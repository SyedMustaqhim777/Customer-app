<!DOCTYPE html>
<html>
  <head>
    <title><%= title %></title>
    <link rel="stylesheet" href="/stylesheets/style.css" />
  </head>
  <body>
    <script type="text/javascript">
      updateStudent = () => {
        console.log("hi")
        var record = {};
        record.id = $("#id").val();
        record.name = $("#name").val();
        record.parent = $("#parent").val();
        record.class = $("#class").val();
        record.subject = $("#subject").val();
        record.teacher = $("#teacher").val();
        record.city = $("#city").val();
        record.country = $("#country").val();

        if (record.name == "") {
          alert("Name cannot be blank.");
        } else {
          $.ajax({
            url: "/api/student",
            method: "PUT",
            data: record,
            success: function (response) {
              if (response.result == "success") {
                location = "/student";
              } else {
                alert(response.msg);
              }
            },
          });
        }
      };
    </script>
    <script
      type="text/javascript"
      src="https:code.jquery.com/jquery-3.5.1.min.js"
    ></script>
    <h1><%= title %></h1>
    <div id="login">
      <input
        id="id"
        type="text"
        name=""
        placeholder="id"
        value="<%= student._id %>"
        readonly
      /><br /><br />
      <input
        id="name"
        type="text"
        name=""
        placeholder="Enter name"
        value="<%= student.name %>"
      /><br /><br />
      <input
        id="parent"
        type="text"
        name=""
        placeholder="Enter parent name"
        value="<%= student.parent %>"
      /><br /><br />
      <input
        id="class"
        type="text"
        name=""
        placeholder="Enter class"
        value="<%= student.class %>"
      /><br /><br />
      <input
        id="subject"
        type="text"
        name=""
        placeholder="Enter subject"
        value="<%= student.subject %>"
      /><br /><br />
      <input
        id="teacher"
        type="text"
        name=""
        placeholder="Enter teacher name"
        value="<%= student.teacher %>"
      /><br /><br />
      <input
        id="city"
        type="text"
        name=""
        placeholder="Enter city"
        value="<%= student.city %>"
      /><br /><br />
      <input
        id="country"
        type="text"
        name=""
        placeholder="Enter country"
        value="<%= student.country %>"
      /><br /><br />
      <input
        onclick="updateStudent();"
        type="button"
        name=""
        value="Submit"
      /><br />
    </div>
  </body>
</html>
